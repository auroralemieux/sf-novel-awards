<article class="show-content">

  <ul class="next-prev">
    <li class="left">
      <%= link_to "Previous Author", @author.prev %>
    </li>
    <li class="right">
      <%= link_to "Next Author", @author.next %>
    </li>
  </ul>

  <h1 class="show-title"><%= @author.full_name %> (<%=@author.birth_year%>-<%=@author.death_year%>)</h1>

  <section class="show-data">

    <p class="author-origin">
      <%= @author.full_name %> is originally from <%= @author.birth_place %>.
    </p>

    <h2 class="books-list-header">Books</h2>

    <section class="author-books-list">
      <% if @author.books.size == 0 %>
        <p class="none-found">
          No books found.
        </p>
        <% else %>
      <table class="author-books-table">
        <tr>
          <th>
            Award
          </th>
          <th>
            Title
          </th>
          <th>
            Year
          </th>
        </tr>
        <% books = @author.books.order(:title) %>
        <% books.each do |book| %>
        <tr>
          <td>
            <%= link_to book.title, book_path(book.id) %>
          </td>

          <td class="book-award-text">
            <% book.awards.each do |award| %>
            <%= award.award_type %>
            <%= award.year.year %>
            <% end %>
          </td>
  
        </tr>
        <% end %>
      </table>
      <% end %>

    </section>

  </section>

  <section class="show-links-bottom">

    <ul>

      <li>
        <%= link_to "edit author", edit_author_path(@author.id) %>
      </li>
      <li>
        <%= link_to "back", :back %>
      </li>
      <li>
        <%= link_to "delete author", author_path(@author.id), method: :delete, data: { confirm: "Really delete this author?" }  %>
      </li>

    </ul>

  </section>

</article>
